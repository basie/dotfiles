#!/usr/bin/env bash

function init() {
  if [[ -d ~/.config ]]; then
    export DOTFILES="${HOME}/.config/dotfiles";
  else
    export DOTFILES="${HOME}/.dotfiles";
  fi

  local file
  for file in ${DOTFILES}/lib/*; do
    source "$file"
  done

  [[ -d $DOTFILES/bin ]] && PATH=$DOTFILES/bin:$PATH
  export PATH

  shopt -s dotglob
  shopt -s nullglob
}

init
[[ git_in_path ]] || exit 1
link_all
link_all "config"

